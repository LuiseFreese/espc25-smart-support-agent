openapi: 3.0.0
info:
  title: Support Agent Tools API
  description: Azure Functions exposing tools for agent function calling
  version: 1.0.0
servers:
  - url: http://localhost:7071/api
    description: Local development
  - url: https://func-agents-{suffix}.azurewebsites.net/api
    description: Production
paths:
  /GetOrderStatus:
    get:
      operationId: getOrderStatus
      summary: Get order status and tracking information
      description: Retrieves the current status, ETA, and tracking details for an order
      parameters:
        - name: orderId
          in: query
          required: true
          description: The unique order identifier
          schema:
            type: string
            example: "12345"
      responses:
        '200':
          description: Order found
          content:
            application/json:
              schema:
                type: object
                properties:
                  orderId:
                    type: string
                  status:
                    type: string
                    enum: [Processing, In Transit, Delivered, Cancelled]
                  eta:
                    type: string
                    format: date
                  trackingNumber:
                    type: string
                  items:
                    type: array
                    items:
                      type: string
        '404':
          description: Order not found
        '400':
          description: Missing orderId parameter
  /CreateTicket:
    post:
      operationId: createTicket
      summary: Create a new support ticket
      description: Creates a support ticket with title, description, and customer ID
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - title
                - description
                - customerId
              properties:
                title:
                  type: string
                  description: Short summary of the issue
                  example: "VPN connection issues"
                description:
                  type: string
                  description: Detailed description of the problem
                  example: "VPN disconnects every 5 minutes when connecting from home"
                customerId:
                  type: string
                  description: Customer identifier
                  example: "CUST-001"
      responses:
        '201':
          description: Ticket created successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  ticketId:
                    type: string
                  title:
                    type: string
                  description:
                    type: string
                  customerId:
                    type: string
                  status:
                    type: string
                    enum: [Open, In Progress, Resolved, Closed]
                  priority:
                    type: string
                    enum: [Low, Medium, High, Critical]
                  createdAt:
                    type: string
                    format: date-time
                  assignedTo:
                    type: string
                    nullable: true
        '400':
          description: Missing required fields
